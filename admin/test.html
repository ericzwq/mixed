<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
      :root {
          --text-color: red;
      }

      * {
          padding: 0;
          margin: 0;
          box-sizing: border-box;
      }

  </style>
</head>
<body>
<script>
  var getKthFromEnd = function (head, k) {
    if (k === 1) {
      while (true) {
        if (!head.next) return head
        head = head.next
      }
    }
    let cur = head, pre = head
    for (let i = 1; i < k; i++) {
      cur = cur.next
      if (!cur) return null
    }
    while (cur) {
      let t = cur
      for (let i = 1; i < k; i++) { // 5  2 4
        cur = cur.next
        if (!cur) {
          for (let j = 1; j < i; j++) pre = pre.next
          return pre
        }
      }
      pre = t
    }
  };
  console.log(getKthFromEnd({v: 1, next: {v: 2, next: {v: 3, next: {v: 4, next: null}}}}, 1));
  // f()
  // f2()

  function f() {
    let t = Date.now(), b = new Set()
    for (let i = 0; i < 30000; i++) {
      // b.clear()
    }
    console.log(Date.now() - t, 't')
  }

  function f2() {
    let t2 = Date.now(), b = new Set()
    for (let i = 0; i < 30000; i++) {
      // b = new Set()
    }
    console.log(Date.now() - t2, 't2')
  }

</script>
</body>
</html>

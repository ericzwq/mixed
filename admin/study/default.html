<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>员工信息管理系统</title>
    <style>
        body {
            /*background: #cccccc;*/
        }

        table {
            border-collapse: collapse;
        }

        tr {
            border-bottom: 1px #ccc solid;
            /*border-top: 1px #ccc solid;*/
        }

        #title {
            text-align: center;
        }

        #add {
            text-align: right;
            font-size: 30px;
            right: 5px;
        }

        #addInterface {
            display: none;
            position: relative;
            top: -55px;
            left: 25%;
            width: 45%;
            height: 500px;
            padding: 5px 0 0 0;
            background: white;
            border-radius: 10px;
        }

        #addInterface table {
            position: absolute;
            left: 14%;
        }

        #addTable tr {
            border: none;
        }

        #addTable input {
            margin-bottom: 5px;
            width: 300px;
            height: 25px;
            border-radius: 5px;
            border-style: solid;
            border-color: #cccccc;
        }

        #btns {
            position: absolute;
            bottom: 25px;
            right: 25px;
        }

        #cancel {
            background: lightgray;
            outline: none;
            border: none;
            margin-right: 5px;
        }

        #confirm {
            background: cornflowerblue;
            border: none;
        }
    </style>
</head>
<body>
<div>
    <div id="title"><h1>信息管理</h1></div>
    <div id="add"><img src="icons/add.svg" width="30px"></div>
    <table width="100%" id="information">
        <tr>
            <th>职工编号</th>
            <th>姓名</th>
            <th>电子邮件</th>
            <th>电话号码</th>
            <th>雇佣日期</th>
            <th>从事工作</th>
            <th>主管编号</th>
            <th>所属部门编号</th>
            <th>薪水</th>
            <th>操作</th>
        </tr>
    </table>
</div>
<div id="addInterface">
    <form onsubmit="return addEmployee()">
        <div style="text-align: center"><h2>添加员工</h2></div>
        <table id="addTable">
            <tr>
                <td>职工编号：</td>
                <td><input type="text" id="employeeNo"></td>
            </tr>
            <tr>
                <td>姓名：</td>
                <td><input type="text" id="employeeName"></td>
            </tr>
            <tr>
                <td>电子邮件：</td>
                <td><input type="text" id="email"></td>
            </tr>
            <tr>
                <td>电话号码：</td>
                <td><input type="text" id="tel"></td>
            </tr>
            <tr>
                <td>雇佣日期：</td>
                <td><input type="text" id="employeeDate"></td>
            </tr>
            <tr>
                <td>从事工作：</td>
                <td><input type="text" id="doWhat"></td>
            </tr>
            <tr>
                <td>主管编号：</td>
                <td><input type="text" id="managerNo"></td>
            </tr>
            <tr>
                <td>所属部门编号：</td>
                <td><input type="text" id="departmentNo"></td>
            </tr>
            <tr>
                <td>薪水：</td>
                <td><input type="text" id="salary"></td>
            </tr>
            <div id="btns">
                <button id="cancel">取消</button>
                <button id="confirm">确认</button>
            </div>
        </table>
    </form>
</div>
<script>
    var employees = null;
    var information = document.getElementById("information");
    var add = document.getElementById("add");
    var addInterface = document.getElementById("addInterface");
    var cancel = document.getElementById("cancel");
    var confirm = document.getElementById("confirm");
    var employeeNo = document.getElementById("employeeNo");
    var employeeName = document.getElementById("employeeName");
    var email = document.getElementById("email");
    var tel = document.getElementById("tel");
    var employeeDate = document.getElementById("employeeDate");
    var doWhat = document.getElementById("doWhat");
    var managerNo = document.getElementById("managerNo");
    var departmentNo = document.getElementById("departmentNo");
    var salary = document.getElementById("salary");
    var xhr = new XMLHttpRequest();
    // xhr.open("get", "http://localhost:8080/api/employees");
    xhr.open("get", "");
    // xhr.setRequestHeader("Content-Type", "application/json");
    xhr.send()
    // xhr.addEventListener("readystatechange", function () {
    //     if (this.readyState == 4) {
    //         employees = JSON.parse(this.responseText);
    //         listEmployees(employees);
    //     }
    // }, false);
    //
    function listEmployees(employees) {
        for (var i = 0; i < employees.length; i++) {
            var tr = document.createElement("tr");
            information.appendChild(tr)
            for (key in employees[i]) {
                var td = document.createElement("td");
                td.innerText = employees[i][key];
                tr.appendChild(td);
            }
        }
    }

    add.addEventListener("click", function () {
        addInterface.style.display = "block";
        document.body.style.backgroundColor = "#ccc";
    }, false);
    confirm.onclick = function () {
        var employee = {
            "employeeNo": employeeNo.value,
            "employeeName": employeeName.value,
            "email": email.value,
            "tel": tel.value,
            "employeeDate": employeeDate.value,
            "doWhat": doWhat.value,
            "managerNo": managerNo.value,
            "departmentNo": departmentNo.value,
            "salary": salary.value
        }
        console.log(employee)
    }
    cancel.onclick = function () {
        addInterface.style.display = "none";
        document.body.style.backgroundColor = "";
    }

    function addEmployee() {
        return false;
    }
</script>
</body>
</html>